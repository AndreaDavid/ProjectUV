{
    "type": "Ext.container.Viewport",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "baseCls": null,
        "container|align": "stretch",
        "container|pack": "center",
        "designer|initialView": true,
        "designer|userAlias": "main",
        "designer|userClassName": "main",
        "html": null,
        "id": "main",
        "layout": "vbox"
    },
    "configAlternates": {
        "html": "string"
    },
    "designerId": "dd4a615a-67b9-4c8a-b269-1409e449e923",
    "viewControllerInstanceId": "14978ea9-9d9d-4364-b8b6-fcc51a53ee33",
    "viewModelInstanceId": "aa6cb8be-5f45-4690-b62c-5083937c0f89",
    "cn": [
        {
            "type": "Ext.panel.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "baseCls": null,
                "bodyCls": [
                    "main"
                ],
                "cls": [
                    "main"
                ],
                "container|align": "stretch",
                "flex": 1,
                "header": false,
                "html": "",
                "id": "ctn_main",
                "layout": "vbox",
                "layout|flex": 1,
                "style": null
            },
            "name": "MyPanel2",
            "configAlternates": {
                "html": "string",
                "style": "string"
            },
            "designerId": "95b3603c-ed9c-4f27-91a6-4d33a8ce270b",
            "cn": [
                {
                    "type": "Ext.container.Container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "baseCls": null,
                        "componentCls": null,
                        "container|align": "stretch",
                        "html": "",
                        "id": "pnl_login",
                        "layout": "vbox",
                        "layout|flex": 1,
                        "margin": 0,
                        "style": null
                    },
                    "name": "MyContainer11",
                    "configAlternates": {
                        "style": "string",
                        "html": "string"
                    },
                    "designerId": "0cbef2b3-6489-475c-885d-ff9bc127fd1f",
                    "cn": [
                        {
                            "type": "Ext.container.Container",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "baseCls": "universe",
                                "cls": [
                                    "universe"
                                ],
                                "id": null,
                                "layout|flex": 2
                            },
                            "name": "MyContainer",
                            "designerId": "d8f6291e-2541-4b62-a527-28c8fdb85339"
                        },
                        {
                            "type": "Ext.container.Container",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "container|align": "stretch",
                                "layout": "hbox",
                                "layout|flex": 4
                            },
                            "name": "MyContainer1",
                            "designerId": "5eeae047-9369-4580-92d8-87a1c8d5d4e4",
                            "cn": [
                                {
                                    "type": "Ext.container.Container",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "layout|flex": 1
                                    },
                                    "name": "MyContainer3",
                                    "designerId": "249ab58e-bc9b-4afe-b3d5-0970917aaf4f"
                                },
                                {
                                    "type": "Ext.panel.Panel",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "bodyBorder": false,
                                        "bodyCls": [
                                            "bagroundWheater"
                                        ],
                                        "border": false,
                                        "container|align": "stretch",
                                        "frameHeader": false,
                                        "header": false,
                                        "headerOverCls": "headermain",
                                        "layout": "hbox",
                                        "layout|flex": 2,
                                        "modal": true,
                                        "title": "Login"
                                    },
                                    "name": "MyPanel",
                                    "designerId": "94fe5d12-3380-418e-a25e-0191bc4889e9",
                                    "cn": [
                                        {
                                            "type": "Ext.container.Container",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "baseCls": null,
                                                "layout": "card",
                                                "layout|flex": 3
                                            },
                                            "name": "MyContainer5",
                                            "designerId": "597d618e-220b-4cf9-ab79-4faf709153be",
                                            "cn": [
                                                {
                                                    "type": "Ext.Img",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "height": null,
                                                        "imgCls": null,
                                                        "src": "resources/image/suntitle.gif",
                                                        "width": null
                                                    },
                                                    "name": "MyImg1",
                                                    "designerId": "f89df122-dc79-4c71-8d4c-3d950b3abe09"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "Ext.form.Panel",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "baseCls": null,
                                                "bodyCls": [
                                                    "bagroundWheater"
                                                ],
                                                "bodyPadding": 10,
                                                "container|align": "stretch",
                                                "header": false,
                                                "layout": "vbox",
                                                "layout|flex": 2,
                                                "style": null,
                                                "title": "My Form"
                                            },
                                            "name": "MyForm",
                                            "designerId": "c8cca58e-7c32-44a1-8bf7-416305793975",
                                            "cn": [
                                                {
                                                    "type": "Ext.container.Container",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "container|align": "stretch",
                                                        "container|pack": "end",
                                                        "layout": "hbox",
                                                        "layout|flex": 1
                                                    },
                                                    "name": "MyContainer4",
                                                    "designerId": "f06ca80d-d3e7-4e21-bbd9-4c428951cbef",
                                                    "cn": [
                                                        {
                                                            "type": "Ext.form.Label",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "cls": [
                                                                    "title_main"
                                                                ],
                                                                "layout|flex": 1,
                                                                "margin": "35 0 0 0",
                                                                "text": "Iniciar sesión"
                                                            },
                                                            "name": "MyLabel4",
                                                            "designerId": "0cf3a491-7c08-4177-9a51-24aa8ba8fb0b"
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "Ext.container.Container",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "container|align": "center",
                                                        "container|pack": "center",
                                                        "flex": null,
                                                        "layout": "vbox",
                                                        "layout|flex": 2
                                                    },
                                                    "name": "MyContainer7",
                                                    "designerId": "88aedbce-dd2d-47f5-a3cd-6c734db73c54",
                                                    "cn": [
                                                        {
                                                            "type": "Ext.form.field.Text",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "allowBlank": false,
                                                                "blankText": "Este campo es requerido",
                                                                "emptyText": "Correo",
                                                                "fieldLabel": "",
                                                                "id": "correoLogin",
                                                                "inputType": "email",
                                                                "labelCls": null,
                                                                "name": "correo"
                                                            },
                                                            "name": "MyTextField",
                                                            "designerId": "0915b629-c3a4-4517-a3cf-6c3743f7a607"
                                                        },
                                                        {
                                                            "type": "Ext.form.field.Text",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "allowBlank": false,
                                                                "blankText": "Este campo es requerido",
                                                                "emptyText": "Contraseña",
                                                                "fieldLabel": "",
                                                                "id": "contrasenaLogin",
                                                                "inputType": "password",
                                                                "name": "password"
                                                            },
                                                            "name": "MyTextField1",
                                                            "designerId": "c73c7dd7-a512-431f-ad68-a4d49ffd6231"
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "Ext.container.Container",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "container|pack": "center",
                                                        "dock": null,
                                                        "flex": null,
                                                        "layout": "hbox",
                                                        "layout|flex": 1
                                                    },
                                                    "name": "MyContainer6",
                                                    "designerId": "51fec213-9ede-41fc-b658-3c5132c0bdeb",
                                                    "cn": [
                                                        {
                                                            "type": "Ext.button.Button",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "id": "ingresar",
                                                                "text": "Entrar"
                                                            },
                                                            "name": "MyButton",
                                                            "designerId": "4366cd17-9be9-4572-825d-da2fcf35aa82",
                                                            "cn": [
                                                                {
                                                                    "type": "basiceventbinding",
                                                                    "reference": {
                                                                        "name": "listeners",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "fn": "onIngresarClick",
                                                                        "implHandler": [
                                                                            "var form=button.up(\"form\").getForm();//al ejecutarse el evento del boton obtengo el formulario",
                                                                            "if(form.isValid()){//valido el formulario con los requisitos previos",
                                                                            "    form.submit(//hacer submit (la peticion) al sevidor",
                                                                            "        {",
                                                                            "            url:\"accesscontroller/login\",",
                                                                            "            method:\"POST\",",
                                                                            "            waitMsg:\"Ingresando\",",
                                                                            "            success:function(frm,out){//aprobacion de la peticion",
                                                                            "",
                                                                            "                Ext.getCmp(\"ctn_main\").removeAll();",
                                                                            "                Ext.getCmp(\"ctn_main\").add(Ext.widget(\"pnl_main\"));",
                                                                            "                ProjectUV.app.fn_connect_websocket();",
                                                                            "            },",
                                                                            "            failure:function(frm,out){//negacion de la peticion",
                                                                            "",
                                                                            "                if(out.result!==undefined &&out.result.message===\"usuarioNoRegistrado\"){",
                                                                            "                    if(Ext.getCmp(\"toast\")===undefined){",
                                                                            "                        Ext.toast({",
                                                                            "                            timeout: 2000,",
                                                                            "                            id:\"toast\",",
                                                                            "                            html: '<center>login incorrecto</center>',",
                                                                            "                            title: 'Alerta',",
                                                                            "                            width: 300,",
                                                                            "                            align: 't'",
                                                                            "                        });",
                                                                            "                    }",
                                                                            "                }else{",
                                                                            "                    if(Ext.getCmp(\"toast\")===undefined){",
                                                                            "                        Ext.toast({",
                                                                            "                            timeout: 2000,",
                                                                            "                            id:\"toast\",",
                                                                            "                            html: '<center>Error servidor</center>',",
                                                                            "                            title: 'Alerta',",
                                                                            "                            width: 300,",
                                                                            "                            align: 't'",
                                                                            "                        });",
                                                                            "                    }",
                                                                            "                }",
                                                                            "",
                                                                            "            }",
                                                                            "        }",
                                                                            "    );",
                                                                            "",
                                                                            "}else{",
                                                                            "",
                                                                            "}",
                                                                            "",
                                                                            ""
                                                                        ],
                                                                        "name": "click",
                                                                        "scope": "me"
                                                                    },
                                                                    "name": "onIngresarClick",
                                                                    "designerId": "1c9a02a8-2128-47f1-aa44-c55a8cefc6e8"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "Ext.button.Button",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "id": "registrar",
                                                                "margin": "0 0 0 10",
                                                                "text": "Registrarme"
                                                            },
                                                            "name": "MyButton1",
                                                            "designerId": "c97f15ee-0005-4341-8bea-5365de659bbd",
                                                            "cn": [
                                                                {
                                                                    "type": "basiceventbinding",
                                                                    "reference": {
                                                                        "name": "listeners",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "fn": "onRegistrarClick",
                                                                        "implHandler": [
                                                                            "var register=Ext.widget(\"vtn_register\");",
                                                                            "register.center();",
                                                                            "register.show();"
                                                                        ],
                                                                        "name": "click",
                                                                        "scope": "me"
                                                                    },
                                                                    "name": "onRegistrarClick",
                                                                    "designerId": "b5b51bc2-de21-4d55-beca-e09f429188fe"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.container.Container",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "layout|flex": 1
                                    },
                                    "name": "MyContainer8",
                                    "designerId": "f662eff6-c072-418b-8d49-22e18649ab1d"
                                }
                            ]
                        },
                        {
                            "type": "Ext.container.Container",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "layout|flex": 2
                            },
                            "name": "MyContainer2",
                            "designerId": "c4a838a4-1919-41c9-8d87-45b165252810"
                        },
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onPnl_loginRender",
                                "implHandler": [
                                    "//component.setHeight(window.innerHeight);"
                                ],
                                "name": "render",
                                "scope": "me"
                            },
                            "name": "onPnl_loginRender",
                            "designerId": "5e65d06e-8003-46c6-892b-333ac931d16a"
                        }
                    ]
                }
            ]
        }
    ]
}